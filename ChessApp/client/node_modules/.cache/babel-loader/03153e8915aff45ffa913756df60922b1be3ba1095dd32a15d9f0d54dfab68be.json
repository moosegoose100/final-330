{"ast":null,"code":"function Move(from, to) {\n  this.from = from;\n  this.to = to;\n  this.created = new Date();\n  this.execution_time = null;\n  this.executed = false;\n  this.piece = from.piece || null;\n  this.killed = to.piece || null;\n  this.enPassant = false;\n  this.startingPosition = this.piece.startingPosition;\n}\n\n// manipulates state\nMove.prototype.execute = function (game) {\n  if ((this.to.y - this.from.y) % 2 === 0 && this.startingPosition) {\n    var doubleAheadLeft = game.board.getTile(this.to.x - 1, this.to.y),\n      doubleAheadRight = game.board.getTile(this.to.x + 1, this.to.y);\n    if (doubleAheadLeft && doubleAheadLeft.piece && doubleAheadLeft.piece.colour !== this.from.piece.colour) {\n      game.enPassant = this.to;\n    }\n    if (doubleAheadRight && doubleAheadRight.piece && doubleAheadRight.piece.colour !== this.from.piece.colour) {\n      game.enPassant = this.to;\n    }\n  } else {\n    game.enPassant = null;\n  }\n  this.to.fillTile(this.from.piece);\n  this.to.piece.startingPosition = false;\n  this.from.clearTile();\n  if (this.enPassant) {\n    var killed = game.board.getTile(this.to.x, this.from.y);\n    this.killed = killed.piece;\n    killed.clearTile();\n  }\n  this.executed = true;\n  this.execution_time = new Date();\n  return this;\n};\nmodule.exports = Move;","map":{"version":3,"names":["Move","from","to","created","Date","execution_time","executed","piece","killed","enPassant","startingPosition","prototype","execute","game","y","doubleAheadLeft","board","getTile","x","doubleAheadRight","colour","fillTile","clearTile","module","exports"],"sources":["Z:/IGMProfile/Desktop/final-330/ChessApp/node_modules/chessjs/lib/move.js"],"sourcesContent":["function Move(from, to) {\n  this.from = from;\n  this.to = to;\n\n  this.created = new Date();\n  this.execution_time = null;\n  this.executed = false;\n  this.piece = from.piece || null;\n  this.killed = to.piece || null;\n  this.enPassant = false;\n  this.startingPosition = this.piece.startingPosition;\n}\n\n// manipulates state\nMove.prototype.execute = function (game) {\n\n  if ((this.to.y-this.from.y) %2 === 0 && this.startingPosition) {\n      var doubleAheadLeft = game.board.getTile(this.to.x-1, this.to.y),\n          doubleAheadRight = game.board.getTile(this.to.x+1, this.to.y);\n\n      if (doubleAheadLeft && doubleAheadLeft.piece && doubleAheadLeft.piece.colour !== this.from.piece.colour) {\n        game.enPassant = this.to;                  \n      }\n\n      if (doubleAheadRight && doubleAheadRight.piece && doubleAheadRight.piece.colour !== this.from.piece.colour) {\n        game.enPassant = this.to;                  \n      }\n    \n  } else {\n    game.enPassant = null;\n  }\n\n  this.to.fillTile(this.from.piece);\n  this.to.piece.startingPosition = false;\n  this.from.clearTile();\n\n  if (this.enPassant) {\n    var killed = game.board.getTile(this.to.x, this.from.y);\n    this.killed = killed.piece;\n    killed.clearTile();\n  }\n\n  this.executed = true;\n  this.execution_time = new Date();\n\n  return this;\n};\n\nmodule.exports = Move;\n"],"mappings":"AAAA,SAASA,IAAIA,CAACC,IAAI,EAAEC,EAAE,EAAE;EACtB,IAAI,CAACD,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACC,EAAE,GAAGA,EAAE;EAEZ,IAAI,CAACC,OAAO,GAAG,IAAIC,IAAI,CAAC,CAAC;EACzB,IAAI,CAACC,cAAc,GAAG,IAAI;EAC1B,IAAI,CAACC,QAAQ,GAAG,KAAK;EACrB,IAAI,CAACC,KAAK,GAAGN,IAAI,CAACM,KAAK,IAAI,IAAI;EAC/B,IAAI,CAACC,MAAM,GAAGN,EAAE,CAACK,KAAK,IAAI,IAAI;EAC9B,IAAI,CAACE,SAAS,GAAG,KAAK;EACtB,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACH,KAAK,CAACG,gBAAgB;AACrD;;AAEA;AACAV,IAAI,CAACW,SAAS,CAACC,OAAO,GAAG,UAAUC,IAAI,EAAE;EAEvC,IAAI,CAAC,IAAI,CAACX,EAAE,CAACY,CAAC,GAAC,IAAI,CAACb,IAAI,CAACa,CAAC,IAAG,CAAC,KAAK,CAAC,IAAI,IAAI,CAACJ,gBAAgB,EAAE;IAC3D,IAAIK,eAAe,GAAGF,IAAI,CAACG,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,EAAE,CAACgB,CAAC,GAAC,CAAC,EAAE,IAAI,CAAChB,EAAE,CAACY,CAAC,CAAC;MAC5DK,gBAAgB,GAAGN,IAAI,CAACG,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,EAAE,CAACgB,CAAC,GAAC,CAAC,EAAE,IAAI,CAAChB,EAAE,CAACY,CAAC,CAAC;IAEjE,IAAIC,eAAe,IAAIA,eAAe,CAACR,KAAK,IAAIQ,eAAe,CAACR,KAAK,CAACa,MAAM,KAAK,IAAI,CAACnB,IAAI,CAACM,KAAK,CAACa,MAAM,EAAE;MACvGP,IAAI,CAACJ,SAAS,GAAG,IAAI,CAACP,EAAE;IAC1B;IAEA,IAAIiB,gBAAgB,IAAIA,gBAAgB,CAACZ,KAAK,IAAIY,gBAAgB,CAACZ,KAAK,CAACa,MAAM,KAAK,IAAI,CAACnB,IAAI,CAACM,KAAK,CAACa,MAAM,EAAE;MAC1GP,IAAI,CAACJ,SAAS,GAAG,IAAI,CAACP,EAAE;IAC1B;EAEJ,CAAC,MAAM;IACLW,IAAI,CAACJ,SAAS,GAAG,IAAI;EACvB;EAEA,IAAI,CAACP,EAAE,CAACmB,QAAQ,CAAC,IAAI,CAACpB,IAAI,CAACM,KAAK,CAAC;EACjC,IAAI,CAACL,EAAE,CAACK,KAAK,CAACG,gBAAgB,GAAG,KAAK;EACtC,IAAI,CAACT,IAAI,CAACqB,SAAS,CAAC,CAAC;EAErB,IAAI,IAAI,CAACb,SAAS,EAAE;IAClB,IAAID,MAAM,GAAGK,IAAI,CAACG,KAAK,CAACC,OAAO,CAAC,IAAI,CAACf,EAAE,CAACgB,CAAC,EAAE,IAAI,CAACjB,IAAI,CAACa,CAAC,CAAC;IACvD,IAAI,CAACN,MAAM,GAAGA,MAAM,CAACD,KAAK;IAC1BC,MAAM,CAACc,SAAS,CAAC,CAAC;EACpB;EAEA,IAAI,CAAChB,QAAQ,GAAG,IAAI;EACpB,IAAI,CAACD,cAAc,GAAG,IAAID,IAAI,CAAC,CAAC;EAEhC,OAAO,IAAI;AACb,CAAC;AAEDmB,MAAM,CAACC,OAAO,GAAGxB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}